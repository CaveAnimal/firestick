# ONNX embedding configuration profile
# Activate with: --spring.profiles.active=onnx OR SPRING_PROFILES_ACTIVE=onnx
embedding.mode=onnx
embedding.dimension=384
embedding.model-path=models/model_onnx/onnx/model.onnx
embedding.tokenizer-path=models/model_onnx

# Use a separate H2 database for the ONNX profile to avoid file lock conflicts with the default profile
# Choose either an in-memory DB for ephemeral runs or a distinct file-based path for persistence.
# Uncomment ONE of the following options as needed. By default we use a separate file path.

# Option A: In-memory (ephemeral)
# spring.datasource.url=jdbc:h2:mem:firestick-onnx;DB_CLOSE_DELAY=-1;MODE=LEGACY

# Option B: File-based (persistent, but isolated from default profile)
spring.datasource.url=jdbc:h2:file:./data/firestick_onnx;AUTO_SERVER=TRUE;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=update

# Run ONNX profile on a different port to avoid clashing with any default-profile instance
server.port=8081
