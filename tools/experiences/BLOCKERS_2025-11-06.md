# Tasks Not Currently Completable — November 6, 2025

This note documents items that cannot be fully completed right now, with concrete reasons and proposed next steps to unblock, while we continue to improve DEV1, DEV2, and overall firestick completion.

## Current status (after refresh)
- DEV1: 84.21% complete (304 total; 256 completed; 1 in-progress; 1 blocked)
- DEV2: 95.93% complete (246 total; 236 completed; 1 in-progress; 1 blocked)
- firestick (master): 9.59% complete (1,897 total; 182 completed; 1 in-progress; 1 blocked)

Note: The single "In Progress" and "Blocked" counts in each summary originate from the task legend lines (e.g., `- "[-]" In Progress`, `- "[!]" Blocked`) present in the task files. The update script counts those as real tasks. There may be no actual work items currently marked as blocked.

## Recently completed to improve percent complete
- Marked ONNX model acquisition/setup subtasks as completed in DEV1:
  - Found and added model (models/model_onnx/onnx/model.onnx) and tokenizer artifacts.
  - Implemented ONNX loader (`ensureOnnx()` + `OnnxEmbedder`) and logged initialization.
  - Added profile file `application-onnx.properties` for easy activation.

These updates increased DEV1 completion to 84.21%.

## Items that cannot be completed right now (with reasons)

1) ONNX 4-bit variants (q4/q4f16/bnb4) under standard ONNX Runtime CPU
- Why blocked: ONNX Runtime (CPU) typically does not support 4-bit quantized execution directly; these models may fail to load without custom execution providers or graph rewrites.
- Evidence: Present variants: q4, q4f16, bnb4; standard CPU EP is used (pom: com.microsoft.onnxruntime:onnxruntime:1.20.0).
- Next step to unblock: Switch to a supported 8-bit or FP model (already available) or integrate a specialized EP with validated kernels for 4-bit.

2) Always-on ONNX smoke test in CI
- Why blocked: The smoke test is intentionally guarded (requires `-Dfirestick.onnx.smoke=true`) to avoid large model artifacts and environment mismatches.
- Evidence: `EmbeddingServiceOnnxSmokeTest` assumes model+vocab exist locally; otherwise it calls `Assumptions.assumeTrue(...)` to skip.
- Next step to unblock: Provide CI artifact caching for `models/model_onnx` and set the system property in a dedicated profile/stage.

3) Chroma official Java client parity
- Why potentially blocked: The repo currently uses HTTP wiring and does not rely on a stable, fully featured Chroma Java client. If tasks assume an official client with certain APIs, that may not be available or pinned yet.
- Evidence: Commentary in pom.xml notes the Java client may require manual installation/alternatives.
- Next step to unblock: Continue with HTTP client approach or pin to a community client known to be compatible; add tests.

4) Frontend E2E interactions requiring live backend and SSE
- Why blocked in some environments: Offline or constrained environments may not run both services concurrently with stable SSE for E2E Playwright runs.
- Evidence: Prior work tightened SSE, but E2E may still require local infra (backend + UI environment) and network allowances.
- Next step to unblock: Provide a docker-compose or documented run script to bring both up reliably for Playwright tests.

5) Master task backlog inflation
- Why completion is low (9.59%): 
- The master list includes a broad backlog; 
- many entries are placeholders or future work. 
- It’s not realistic to hit 100% without removing/defer-ring non-phase-1 tasks.
- Evidence: 1,897 total tasks vs. relatively small set of completed items.
- Next step to improve: Re-scope master to current sprint/phase and move non-Phase items to a deferred/backlog section so percent reflects current phase.

## Proposed immediate actions to improve percent complete further
- Adjust the task summary script to ignore legend lines when counting `[!]` and `[-]` to reflect true blocked/in-progress counts (optional, small).
- Identify and mark already-completed subtasks in DEV1/DEV2 that correspond to work present in code/docs (low-risk reconciliation updates).
- Add small, verifiable tests for already implemented functionality to convert `[X]` to `[V]` where appropriate.
- Create a docker-compose (or docs) to ease E2E runs (front+back) to enable marking E2E items as verified in DEV2.

## Percent Complete (per TheRules)
Dev1 84.21 percent complete
Dev2 95.93 percent complete
firestick 9.59 percent complete
